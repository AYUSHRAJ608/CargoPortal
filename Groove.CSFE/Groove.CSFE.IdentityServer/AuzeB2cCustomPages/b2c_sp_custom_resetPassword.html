<html>

<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans|Noto+Serif|Nunito|Open+Sans|Quicksand" rel="stylesheet" />

    <!-- QC cargoportalstorage.blob.core.windows.net -->
    <!-- Staging uatshipmentportal.blob.core.windows.net -->
    <!-- PRD cargofecsportal.blob.core.windows.net -->

    <link href="https://cargoportalstorage.blob.core.windows.net/shipmentportalb2cui/images/favicon.ico" rel="icon" type="image/x-icon" />
    <link href="https://cargoportalstorage.blob.core.windows.net/shipmentportalb2cui/styles/b2c_sp_custom_style.css" rel="stylesheet" />
    <link href="https://cargoportalstorage.blob.core.windows.net/shipmentportalb2cui/styles/b2c_sp_custom_signUp_style.css" rel="stylesheet" />

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <title>Shipment Portal - Reset Password</title>

    <style type="text/css">
        .field-icon {
            float: right;
            cursor: pointer;
            margin-right: 32px;
            margin-top: -40px;
            position: relative;
            z-index: 2;
            font-weight: inherit;
        }
    </style>

</head>

<body>
    <div id="background_branding_container">
        <img id="background_background_image" src="https://cargoportalstorage.blob.core.windows.net/shipmentportalb2cui/images/ship.png" alt="Illustration">
    </div>
    <p id="page_loaded_msg" role="alert" aria-live="assertive" aria-label="Page has been loaded successfully"></p>
    <div class="panel" id="panel">

        <div class="inner_container">
            <div class="api_container normaltext">
                <img src="https://cargoportalstorage.blob.core.windows.net/shipmentportalb2cui/images/logo_v2.png" height="70" class="logo" />

                <div id="api" data-name="SelfAsserted">
                    <div class="intro">
                        <p>Please provide the following details.</p>
                    </div>
                    <div id="attributeVerification" role="form">
                        <div class="error pageLevel" id="passwordEntryMismatch" style="display: none;" aria-hidden="true">The password entry fields do not match. Please enter the same password in both fields and try again.</div>
                        <div class="error pageLevel" id="requiredFieldMissing" style="display: none;" aria-hidden="true">A required field is missing. Please fill out all required fields and try again.</div>
                        <div class="error pageLevel" id="fieldIncorrect" style="display: none;" aria-hidden="true">One or more fields are filled out incorrectly. Please check your entries and try again.</div>
                        <div class="error pageLevel" id="claimVerificationServerError" style="display: none;" aria-hidden="true"></div>
                        <div class="attr" id="attributeList">
                            <ul>
                                <li class="TextBox">
                                    <div class="attrEntry">
                                        <div>
                                            <div class="verificationInfoText" id="email_intro" style="display: inline;" aria-hidden="false" role="alert" aria-live="polite">Verification is necessary. Please click Send button.</div>
                                            <div class="verificationInfoText" id="email_info" style="display:none" aria-hidden="true">Verification code has been sent to your inbox. Please copy it to the input box below.</div>
                                            <div class="verificationSuccessText" id="email_success" style="display:none" aria-hidden="true">E-mail address verified. You can now continue.</div>
                                            <div class="verificationErrorText error" id="email_fail_retry" style="display:none" aria-hidden="true">That code is incorrect. Please try again.</div>
                                            <div class="verificationErrorText error" id="email_fail_no_retry" style="display:none" aria-hidden="true">You've made too many incorrect attempts. Please try again later.</div>
                                            <div class="verificationErrorText error" id="email_fail_throttled" style="display:none" aria-hidden="true">There have been too many requests to verify this email address. Please wait a while, then try again.</div>
                                            <div class="verificationErrorText error" id="email_fail_code_expired" style="display:none" aria-hidden="true">That code is expired. Please request a new code.</div>
                                            <div class="verificationErrorText error" id="email_fail_server" style="display:none" aria-hidden="true">We are having trouble verifying your email address. Please enter a valid email address and try again.</div>
                                            <div class="verificationErrorText error" id="email_incorrect_format" style="display:none" aria-hidden="true">Incorect format.</div>
                                        </div>
                                        <label for="email">Email address</label>
                                        <div class="error itemLevel" aria-hidden="true"><p>Please enter a valid email address.</p></div>
                                        <input id="email" class="textInput" type="text" placeholder="Email address" pattern="^[a-zA-Z0-9!#$%&amp;'+^_`{}~-]+(?:\.[a-zA-Z0-9!#$%&amp;'+^_`{}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$" title="Email address that can be used to contact you." required="" aria-required="true" aria-label="Please enter a valid email address., Email address">
                                        <a href="javascript:void(0)" data-help="Email address that can be used to contact you." class="helpLink tiny">What is this?</a>
                                        <div class="buttons verify" claim_id="email">
                                            <div id="email_success_screenreader_msg" aria-label="E-mail address verified. You can now continue."></div>
                                            <label id="email_ver_input_label" for="email_ver_input" aria-hidden="true" style="display: none;">Verification code</label>
                                            <input id="email_ver_input" class="verifyInput" type="text" placeholder="Verification code" style="display:none" aria-hidden="true">
                                            <button id="email_ver_but_send" name="email_ver_but_send" class="sendButton" type="button" style="display: inline;" aria-label="Send verification code" aria-hidden="false">Send verification code</button>
                                            <button id="email_ver_but_verify" class="verifyButton" type="button" style="display:none" aria-label="Verify code" aria-hidden="true">Verify code</button>
                                            <button id="email_ver_but_resend" class="sendButton" type="button" style="display:none" aria-label="Send new code" aria-hidden="true">Send new code</button>
                                            <button id="email_ver_but_edit" class="editButton" type="button" style="display:none" aria-label="Change e-mail" aria-hidden="true">Change email</button>
                                            <button id="email_ver_but_default" class="defaultButton" type="button" style="display:none" aria-label="Default">Default</button>
                                        </div>
                                    </div>
                            </ul>
                        </div>
                        <div class="buttons">
                            <button id="continue" disabled aria-label="Continue">Continue</button>
                            <button id="cancel" aria-label="Cancel" formnovalidate="">Cancel</button>
                        </div>
                        <div class="verifying-modal">
                            <div id="verifying_blurb"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script type="text/javascript">

        (function () {

            // Add toogle password visibility
            var passwordToogleElement = document.createElement('span');
            passwordToogleElement.className = 'fa fa-fw fa-eye field-icon';
            passwordToogleElement.setAttribute('toogle-for', 'newPassword');
            passwordToogleElement.addEventListener('click', function () {
                tooglePassword(this);
            });
            var passwordElement = document.getElementById('newPassword');
            if (passwordElement) {
                passwordElement.parentNode.insertBefore(passwordToogleElement, passwordElement.nextSibling);
            }

            var passwordToogleElement = document.createElement('span');
            passwordToogleElement.className = 'fa fa-fw fa-eye field-icon';
            passwordToogleElement.setAttribute('toogle-for', 'reenterPassword');
            passwordToogleElement.addEventListener('click', function () {
                tooglePassword(this);
            });
            var passwordElement = document.getElementById('reenterPassword');
            if(passwordElement) {
                passwordElement.parentNode.insertBefore(passwordToogleElement, passwordElement.nextSibling);
            }

        })();

        function tooglePassword(toogleElement) {

            var toogleForId = toogleElement.getAttribute('toogle-for');
            var passwordElement = document.getElementById(toogleForId);
            var attributeVale = passwordElement.getAttribute('type');
            if (attributeVale === 'text') {
                toogleElement.classList.remove('fa-eye-slash');
                passwordElement.setAttribute('type', 'password');
            } else {
                toogleElement.classList.add('fa-eye-slash');
                passwordElement.setAttribute('type', 'text');
            }

        }
    </script>

</body>
</html>